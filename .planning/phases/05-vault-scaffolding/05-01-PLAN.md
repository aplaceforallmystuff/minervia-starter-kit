---
phase: 05-vault-scaffolding
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [install.sh]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "New vault has PARA folder structure after installation"
    - "Templates exist in 04 Resources/Templates/ for daily notes, projects, and areas"
    - "Existing vaults are not modified (no folders created)"
  artifacts:
    - path: "install.sh"
      provides: "create_para_folders(), create_templates() functions"
      contains: "create_para_folders"
  key_links:
    - from: "scaffold_new_vault()"
      to: "IS_NEW_VAULT check"
      via: "conditional execution"
      pattern: 'IS_NEW_VAULT.*!=.*true.*return'
---

<objective>
Add PARA folder structure and Obsidian templates for new vaults

Purpose: New vaults need the PARA methodology folder structure (00 Daily through 05 Archive) and starter templates so users can immediately begin organizing their knowledge. Existing vaults must be left untouched.

Output: Functions to create folders and templates, gated on IS_NEW_VAULT
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-vault-scaffolding/05-RESEARCH.md
@install.sh
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add create_para_folders function</name>
  <files>install.sh</files>
  <action>
Add create_para_folders() function in the "Vault Detection and Template Processing" section, after detect_vault_type().

The function should:
1. Define folders array with PARA structure:
   - "00 Daily/$(date +%Y)" (current year subfolder)
   - "01 Inbox"
   - "02 Projects"
   - "03 Areas"
   - "04 Resources"
   - "04 Resources/Templates"
   - "05 Archive"

2. Loop through folders array, mkdir -p each
3. Print green + for each folder created
4. Handle mkdir failures with error message (but continue, don't exit)

Use existing color variables (GREEN, NC). Quote all folder paths to handle spaces.
  </action>
  <verify>Read install.sh and confirm create_para_folders() function exists with 7 folders defined</verify>
  <done>create_para_folders() function added to install.sh with PARA folder structure</done>
</task>

<task type="auto">
  <name>Task 2: Add create_templates function with three templates</name>
  <files>install.sh</files>
  <action>
Add create_templates() function after create_para_folders().

Create three template files using heredoc (cat > file << 'TEMPLATE'):

**1. Daily Note template (04 Resources/Templates/Daily Note.md):**
```markdown
---
created: {{date:YYYY-MM-DD}}
tags: [daily]
---

# {{date:dddd, MMMM D, YYYY}}

## Focus

What's the main thing to accomplish today?

-

## Notes

## Reflection

**What went well:**

**What to improve:**
```

**2. Project template (04 Resources/Templates/Project.md):**
```markdown
---
created: {{date:YYYY-MM-DD}}
status: active
tags: [project]
due:
---

# {{title}}

## Overview

What is this project and why does it matter?

## Success Criteria

How will you know when this project is complete?

- [ ]

## Next Actions

- [ ]

## Notes

## Related

-
```

**3. Area template (04 Resources/Templates/Area.md):**
```markdown
---
created: {{date:YYYY-MM-DD}}
tags: [area]
---

# {{title}}

## Purpose

Why is this area important? What responsibility does it represent?

## Standards

What does success look like in this area?

-

## Current Focus

What aspects need attention right now?

## Resources

Related projects, notes, and references.

-
```

Use `<< 'TEMPLATE'` (quoted) to prevent variable expansion. Print green + for each template created.
  </action>
  <verify>Read install.sh and confirm create_templates() creates 3 files with Obsidian core template syntax ({{date:...}}, {{title}})</verify>
  <done>create_templates() function creates Daily Note.md, Project.md, and Area.md in Templates folder</done>
</task>

</tasks>

<verification>
- [ ] create_para_folders() defines 7 folders including current year subfolder
- [ ] create_templates() creates 3 files with proper YAML frontmatter
- [ ] Templates use Obsidian core syntax ({{date:YYYY-MM-DD}}, {{title}}), NOT Templater syntax
- [ ] All folder paths are quoted to handle spaces
- [ ] Heredocs use quoted delimiter ('TEMPLATE') to prevent expansion
</verification>

<success_criteria>
- Functions ready for Phase 5 Plan 02 to wire into main flow
- VAULT-01 (PARA folders) covered by create_para_folders()
- VAULT-02, VAULT-04 (templates with frontmatter) covered by create_templates()
</success_criteria>

<output>
After completion, create `.planning/phases/05-vault-scaffolding/05-01-SUMMARY.md`
</output>
